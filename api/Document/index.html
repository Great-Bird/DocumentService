<!doctype html>
<html lang="en" dir="ltr" class="plugin-moonwave plugin-id-moonwave">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Document | DocumentService</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://anthony0br.github.io/DocumentService/api/Document"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Document | DocumentService"><meta data-rh="true" name="description" content="An abstraction over keys in a DataStore.

Documents are designed to contain information about an entity in a schema.
This schema is enforced by your check function, and should be changed
through migrations. You may, of course, decide to not use a schema by
defining an empty check function, but this generally isn&#x27;t recommended.

:::tip
Session locking prevents your data from being edited by mutliple servers,
and ensures one server is finished with it before it is opened by another.

In DocumentService, session locking enables the use of the caching methods
`SetCache`, `GetCache`, and `UpdateCache`.

This is ideal for player data, or any data that needs frequent updates
and does not need multi-server editing.
:::

:::warning
You are free to edit the contents of the table in the .data field with
a tool like DataStore Editor, but manually changing other fields could cause
data loss and errors.
:::

:::warning
Types for your data are provided under the assumption that the data
stored in Data Stores will not change schema/interface while a Document
is open.
:::"><meta data-rh="true" property="og:description" content="An abstraction over keys in a DataStore.

Documents are designed to contain information about an entity in a schema.
This schema is enforced by your check function, and should be changed
through migrations. You may, of course, decide to not use a schema by
defining an empty check function, but this generally isn&#x27;t recommended.

:::tip
Session locking prevents your data from being edited by mutliple servers,
and ensures one server is finished with it before it is opened by another.

In DocumentService, session locking enables the use of the caching methods
`SetCache`, `GetCache`, and `UpdateCache`.

This is ideal for player data, or any data that needs frequent updates
and does not need multi-server editing.
:::

:::warning
You are free to edit the contents of the table in the .data field with
a tool like DataStore Editor, but manually changing other fields could cause
data loss and errors.
:::

:::warning
Types for your data are provided under the assumption that the data
stored in Data Stores will not change schema/interface while a Document
is open.
:::"><link data-rh="true" rel="canonical" href="https://anthony0br.github.io/DocumentService/api/Document"><link data-rh="true" rel="alternate" href="https://anthony0br.github.io/DocumentService/api/Document" hreflang="en"><link data-rh="true" rel="alternate" href="https://anthony0br.github.io/DocumentService/api/Document" hreflang="x-default"><link rel="stylesheet" href="/DocumentService/assets/css/styles.fd8953ce.css">
<link rel="preload" href="/DocumentService/assets/js/runtime~main.77aab6ca.js" as="script">
<link rel="preload" href="/DocumentService/assets/js/main.905ccee7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DocumentService/"><b class="navbar__title text--truncate">DocumentService</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/DocumentService/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/anthony0br/DocumentService" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docPageContainer_wNNk"><div class="docPage_Dpn1"><div class="docSidebarContainer_o_re"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/DocumentService">​Document​Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/DocumentStore">​Document​Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/DocumentService/api/Document">​Document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/SaveUtil">​Save​Util</a></li></ul></nav></div></div><main class="docMainContainer_HJE1"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_MU3C"><div class="docItemContainer_Wv98"><article><div class="member_J0w1 markdown"><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_oUs_"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><header><h1 class="docTitle_mZRt" style="text-decoration:none"><span style="display:inline-block">Document</span></h1><div class="luaClassTags_EipM"></div><label class="privateToggle_lmfE"><span class="privateCheckboxContainer_psRa"><input type="checkbox" class="privateCheckboxInternal_IKP2" name="checkbox"><span class="privateCheckboxControl_Ov8U"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="none" stroke="currentColor" stroke-width="3" d="M4 11.91l5.37 5.37L19.79 5.59"></path></svg></span></span><span class="privateCheckboxLabel_Vmvs">Show Private</span></label><div>
<p>An abstraction over keys in a DataStore.</p>
<p>
  Documents are designed to contain information about an entity in a schema.
  This schema is enforced by your check function, and should be changed
  through migrations. You may, of course, decide to not use a schema by
  defining an empty check function, but this generally isn't recommended.
</p>
<div class="admonition admonition-tip alert alert--success">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
        </svg></span>tip</h5>
  </div>
  <div class="admonition-content">
    <p>
      Session locking prevents your data from being edited by mutliple servers,
      and ensures one server is finished with it before it is opened by another.
    </p>
    <p>
      In DocumentService, session locking enables the use of the caching methods
      <code>SetCache</code>, <code>GetCache</code>, and <code>UpdateCache</code>.
    </p>
    <p>
      This is ideal for player data, or any data that needs frequent updates
      and does not need multi-server editing.
    </p>
  </div>
</div>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      You are free to edit the contents of the table in the .data field with
      a tool like DataStore Editor, but manually changing other fields could cause
      data loss and errors.
    </p>
  </div>
</div>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      Types for your data are provided under the assumption that the data
      stored in Data Stores will not change schema/interface while a Document
      is open.
    </p>
  </div>
</div>
</div></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="WriteResult&lt;T&gt;"><code style="text-decoration:none">WriteResult&lt;T&gt;</code><a href="#WriteResult&lt;T&gt;" class="hash-link" aria-label="Direct link to WriteResult&lt;T&gt;" title="Direct link to WriteResult&lt;T&gt;">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L100"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>WriteResult&lt;T&gt;<!-- --> = </code> <code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#SessionLockedError">SessionLockedError</a></code><code class="op_lSLc">&gt;</code></div><div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Open"><code style="text-decoration:none">Open</code><a href="#Open" class="hash-link" aria-label="Direct link to Open" title="Direct link to Open">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L309"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Open</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">OpenResult</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><h3>Types</h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="OpenResult&lt;T&gt;"><a href="#OpenResult&lt;T&gt;" class="hash-link" aria-label="Direct link to OpenResult&lt;T&gt;" title="Direct link to OpenResult&lt;T&gt;">​</a></h3><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>OpenResult&lt;T&gt;<!-- --> = </code> <code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#BackwardsCompatibilityError">BackwardsCompatibilityError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#CheckError">CheckError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#SessionLockedError">SessionLockedError</a></code><code class="op_lSLc">&gt;</code></div><div></div><div>
<p>
  Validates the document if one exists, creates a default document if no
  document exists, or creates a document with the data that is in the given
  key if the key hasn't been used with DocumentService before.
</p>
<p>You must call this method before reading or writing to a Document.</p>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>info</h5>
  </div>
  <div class="admonition-content">
    <p>
      If the document is locked by another session, this method will wait and
      retry up to 5 times, and yields until the retries are exhausted or the lock
      is removed. Therefore, you should not use this method to check if the
      Document is being used by another session.
    </p>
  </div>
</div>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      You should check the value of <code>success</code>, and handle failures by checking
      the value of <code>reason</code>. The possible <code>reason</code>s for each method are defined in
      the return type.
    </p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Steal"><code style="text-decoration:none">Steal</code><a href="#Steal" class="hash-link" aria-label="Direct link to Steal" title="Direct link to Steal">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L455"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Steal</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#SchemaError">SchemaError</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>
  Steals a session lock. This removes any existing lock held by any other
  session, and locks the document for ourselves.
</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      Do not use this unless you are certain the previous session is dead, or you
      will likely cause data loss.
      Only usable on session-locked Documents.
    </p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="IsOpenAvailable"><code style="text-decoration:none">IsOpenAvailable</code><a href="#IsOpenAvailable" class="hash-link" aria-label="Direct link to IsOpenAvailable" title="Direct link to IsOpenAvailable">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L519"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">IsOpenAvailable</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">boolean,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>
  Returns a false Result if Document is currently open, locked by another
  session, otherwise returns a true Result.
</p>
<p>If props.lockSessions is false, this will always return a true Result.</p>
<div class="admonition admonition-tip alert alert--success">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
        </svg></span>tip</h5>
  </div>
  <div class="admonition-content">
    <p>
      You can use this to check if a player is active to avoid data loss while
      editing data from another server.
    </p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="IsOpen"><code style="text-decoration:none">IsOpen</code><a href="#IsOpen" class="hash-link" aria-label="Direct link to IsOpen" title="Direct link to IsOpen">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L570"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">IsOpen</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">boolean</code></div><div>
<p>Returns whether the document is open or not</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Close"><code style="text-decoration:none">Close</code><a href="#Close" class="hash-link" aria-label="Direct link to Close" title="Direct link to Close">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L589"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Close</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">WriteResult</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T?</code><code class="op_lSLc">&gt;</code></div><div>
<p>Destroys the document instance.</p>
<p>The document must be open before using this method.</p>
<p>If session locked, will save the document and remove the lock first.</p>
<p>
  After closing a Document, you will need to call
  DocumentStore:GetDocument() to retrieve a new one if you wish to access the
  Document again.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="SetCache"><code style="text-decoration:none">SetCache</code><a href="#SetCache" class="hash-link" aria-label="Direct link to SetCache" title="Direct link to SetCache">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L644"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">SetCache</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>newCache<!-- -->: </code><code class="blue_P4bS">T</code></div></div><code>) → </code><code class="blue_P4bS">T</code></div><div>
<p>Sets the cache.</p>
<p>The document must be open before using this method.</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      You can only use cache for session-locked data. See <code>Open</code> for how to
      enable session locking.
    </p>
  </div>
</div>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>info</h5>
  </div>
  <div class="admonition-content">
    <p>You must use immutable operations on cache, i.e. clone any table you intend to edit.</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetCache"><code style="text-decoration:none">GetCache</code><a href="#GetCache" class="hash-link" aria-label="Direct link to GetCache" title="Direct link to GetCache">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L669"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">GetCache</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">T</code></div><div>
<p>Retrieves the cache.</p>
<p>The document must be open before using this method.</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      You can only use cache for session-locked data. See <code>Open</code> for how to
      enable session locking.
    </p>
  </div>
</div>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>info</h5>
  </div>
  <div class="admonition-content">
    <p>You must use immutable operations on cache, i.e. clone any table you intend to edit.</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="UpdateCache"><code style="text-decoration:none">UpdateCache</code><a href="#UpdateCache" class="hash-link" aria-label="Direct link to UpdateCache" title="Direct link to UpdateCache">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L693"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">UpdateCache</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>transform<!-- -->: </code><code class="blue_P4bS">Transform</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div></div><code>) → </code><code class="blue_P4bS">T</code></div><div>
<p>Transforms the cache.</p>
<p>A document must be open before using this method.</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      You can only use cache for session-locked data. See <code>Open</code> for how to
      enable session locking.
    </p>
  </div>
</div>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>info</h5>
  </div>
  <div class="admonition-content">
    <p>You must use immutable operations on cache, i.e. clone any table you intend to edit.</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Update"><code style="text-decoration:none">Update</code><a href="#Update" class="hash-link" aria-label="Direct link to Update" title="Direct link to Update">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L726"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Update</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>transform<!-- -->: </code><code class="blue_P4bS">Transform</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><span class="inlineDescription_G7Er">-- <span>
<p>Transform function for the transaction.</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS">WriteResult</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><div>
<p>Performs an atomic transaction on the Document, writing to the DataStore.</p>
<p>The document must be open before using this method.</p>
<p>If using session locking, transforms will build on cached data.</p>
<p>Throws if data is not storable or the transform return value is invalid.</p>
<div class="admonition admonition-tip alert alert--success">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
        </svg></span>tip</h5>
  </div>
  <div class="admonition-content">
    <p>
      Due to Luau limitations with the old solver, you will get the
      best experience if you manually annotate the type of the transform parameter.
    </p>
  </div>
</div>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      The transform function must not yield, and shouldn't rely on any
      from outside.
    </p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Save"><code style="text-decoration:none">Save</code><a href="#Save" class="hash-link" aria-label="Direct link to Save" title="Direct link to Save">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L858"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Save</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">WriteResult</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><div>
<p>
  Saves a Document's cache to its DataStore. Equivalent to calling Update
  without transforming the data.
</p>
<p>The document must be open before using this method.</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>
      You can only use cache for session-locked data. See <code>Open</code> for how to
      enable session locking.
    </p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Erase"><code style="text-decoration:none">Erase</code><a href="#Erase" class="hash-link" aria-label="Direct link to Erase" title="Direct link to Erase">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L876"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Erase</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">nil,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Wipes all data associated with the key and closes the document.</p>
<p>Satisfies compliance with GDPR right of erasure.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Peek"><code style="text-decoration:none">Peek</code><a href="#Peek" class="hash-link" aria-label="Direct link to Peek" title="Direct link to Peek">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L906"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Peek</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">any,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#SchemaError">SchemaError</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Reads the latest data stored in Data Stores.</p>
<p>This may be called while the document is not open, so the return type is</p>
<p>Runs Read hooks.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Read"><code style="text-decoration:none">Read</code><a href="#Read" class="hash-link" aria-label="Direct link to Read" title="Direct link to Read">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L947"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Read</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T,</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#RobloxAPIError">RobloxAPIError</a></code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#SchemaError">SchemaError</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Reads the latest data stored in Data Stores.</p>
<p>
  Peeks, but can only be called once the Document is open, so
  the returned Result.data is typed.
</p>
<p>Since this calls Peek, Read hooks are run.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="HookBefore"><code style="text-decoration:none">HookBefore</code><a href="#HookBefore" class="hash-link" aria-label="Direct link to HookBefore" title="Direct link to HookBefore">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L973"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">HookBefore</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>event<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#PreHookEvent">PreHookEvent</a></code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>the operation to call the hook before</p>
</span></span></div><div><code>hook<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>a hook function that receives the arguments passed in to the operation</p>
</span></span></div></div><code>) → </code><code>(</code><code>)</code></div><div>
<p>Attaches a hook which occurs before the event.</p>
<p>
  Note that if a hook yields, it will yield all methods that call it. Hooks
  are called in the order they are added.
</p>
<p>Hooks cannot currently mutate arguments.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="HookAfter"><code style="text-decoration:none">HookAfter</code><a href="#HookAfter" class="hash-link" aria-label="Direct link to HookAfter" title="Direct link to HookAfter">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L989"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">HookAfter</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>event<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#PostHookEvent">PostHookEvent</a></code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>the operation to call the hook after</p>
</span></span></div><div><code>hook<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>a hook function that receives the arguments passed in to the operation</p>
</span></span></div></div><code>) → </code><code>(</code><code>)</code></div><div>
<p>Attaches a hook which occurs after the event, before the method returns.</p>
<p>
  Note that if a hook yields, it will yield all methods that call it. Hooks
  are called in the order they are added.
</p>
<p>
  Hooks added with HookAfter only run if the operation is successful, and
  cannot mutate the result.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="isDocument"><code style="text-decoration:none">isDocument</code><a href="#isDocument" class="hash-link" aria-label="Direct link to isDocument" title="Direct link to isDocument">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L1006"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">isDocument</code><code>(</code><code>instance<!-- -->: </code><code class="blue_P4bS">metatable</code><code>) → </code><code class="blue_P4bS">boolean</code></div><div>
<p>Checks if a metatable passed is a Document.</p>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;new&quot;,
            &quot;desc&quot;: &quot;Creates a new Document class\n\nDon&#x27;t create more than one Document for the same key, they will be considered different sessions.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;props&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;DocumentProps&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;private&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 238,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Open&quot;,
            &quot;desc&quot;: &quot;Validates the document if one exists, creates a default document if no\ndocument exists, or creates a document with the data that is in the given\nkey if the key hasn&#x27;t been used with DocumentService before.\n\nYou must call this method before reading or writing to a Document.\n\n:::info\nIf the document is locked by another session, this method will wait and\nretry up to 5 times, and yields until the retries are exhausted or the lock\nis removed. Therefore, you should not use this method to check if the\nDocument is being used by another session.\n:::\n\n:::warning\nYou should check the value of `success`, and handle failures by checking\nthe value of `reason`. The possible `reason`s for each method are defined in\nthe return type.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;OpenResult&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 309,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Steal&quot;,
            &quot;desc&quot;: &quot;Steals a session lock. This removes any existing lock held by any other\nsession, and locks the document for ourselves.\n\n:::warning\nDo not use this unless you are certain the previous session is dead, or you\nwill likely cause data loss.\nOnly usable on session-locked Documents.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Result&lt;T, RobloxAPIError | SchemaError&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 455,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;IsOpenAvailable&quot;,
            &quot;desc&quot;: &quot;Returns a false Result if Document is currently open, locked by another \nsession, otherwise returns a true Result.\n\nIf props.lockSessions is false, this will always return a true Result.\n\n:::tip\nYou can use this to check if a player is active to avoid data loss while\nediting data from another server.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Result&lt;boolean, RobloxAPIError&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 519,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;IsOpen&quot;,
            &quot;desc&quot;: &quot;Returns whether the document is open or not&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 570,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Close&quot;,
            &quot;desc&quot;: &quot;Destroys the document instance.\n\nThe document must be open before using this method.\n\nIf session locked, will save the document and remove the lock first.\n\nAfter closing a Document, you will need to call \nDocumentStore:GetDocument() to retrieve a new one if you wish to access the\nDocument again.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;WriteResult&lt;T?&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 589,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;SetCache&quot;,
            &quot;desc&quot;: &quot;Sets the cache.\n\nThe document must be open before using this method.\n\n:::warning\nYou can only use cache for session-locked data. See `Open` for how to\nenable session locking.\n:::\n\n:::info\nYou must use immutable operations on cache, i.e. clone any table you intend to edit.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;newCache&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 644,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetCache&quot;,
            &quot;desc&quot;: &quot;Retrieves the cache.\n\nThe document must be open before using this method.\n\n:::warning\nYou can only use cache for session-locked data. See `Open` for how to\nenable session locking.\n:::\n\n:::info\nYou must use immutable operations on cache, i.e. clone any table you intend to edit.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 669,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;UpdateCache&quot;,
            &quot;desc&quot;: &quot;Transforms the cache.\n\nA document must be open before using this method.\n\n:::warning\nYou can only use cache for session-locked data. See `Open` for how to\nenable session locking.\n:::\n\n:::info\nYou must use immutable operations on cache, i.e. clone any table you intend to edit.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;transform&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Transform&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 693,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Update&quot;,
            &quot;desc&quot;: &quot;Performs an atomic transaction on the Document, writing to the DataStore.\n\nThe document must be open before using this method.\n\nIf using session locking, transforms will build on cached data.\n\nThrows if data is not storable or the transform return value is invalid.\n\n:::tip\nDue to Luau limitations with the old solver, you will get the\nbest experience if you manually annotate the type of the transform parameter.\n:::\n\n:::warning\nThe transform function must not yield, and shouldn&#x27;t rely on any\nfrom outside.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;transform&quot;,
                    &quot;desc&quot;: &quot;Transform function for the transaction.&quot;,
                    &quot;lua_type&quot;: &quot;Transform&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;WriteResult&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 726,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Save&quot;,
            &quot;desc&quot;: &quot;Saves a Document&#x27;s cache to its DataStore. Equivalent to calling Update\nwithout transforming the data.\n\nThe document must be open before using this method.\n\n:::warning\nYou can only use cache for session-locked data. See `Open` for how to\nenable session locking.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;WriteResult&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 858,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Erase&quot;,
            &quot;desc&quot;: &quot;Wipes all data associated with the key and closes the document.\n\nSatisfies compliance with GDPR right of erasure.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Result&lt;nil, RobloxAPIError&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 876,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Peek&quot;,
            &quot;desc&quot;: &quot;Reads the latest data stored in Data Stores.\n\nThis may be called while the document is not open, so the return type is\n\nRuns Read hooks.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Result&lt;any, RobloxAPIError | SchemaError&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 906,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Read&quot;,
            &quot;desc&quot;: &quot;Reads the latest data stored in Data Stores.\n\nPeeks, but can only be called once the Document is open, so\nthe returned Result.data is typed.\n\nSince this calls Peek, Read hooks are run.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Result&lt;T, RobloxAPIError | SchemaError&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 947,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;HookBefore&quot;,
            &quot;desc&quot;: &quot;Attaches a hook which occurs before the event.\n\nNote that if a hook yields, it will yield all methods that call it. Hooks\nare called in the order they are added.\n\nHooks cannot currently mutate arguments.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;event&quot;,
                    &quot;desc&quot;: &quot;the operation to call the hook before&quot;,
                    &quot;lua_type&quot;: &quot;PreHookEvent&quot;
                },
                {
                    &quot;name&quot;: &quot;hook&quot;,
                    &quot;desc&quot;: &quot;a hook function that receives the arguments passed in to the operation&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 973,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;HookAfter&quot;,
            &quot;desc&quot;: &quot;Attaches a hook which occurs after the event, before the method returns.\n\nNote that if a hook yields, it will yield all methods that call it. Hooks\nare called in the order they are added.\n\nHooks added with HookAfter only run if the operation is successful, and\ncannot mutate the result.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;event&quot;,
                    &quot;desc&quot;: &quot;the operation to call the hook after&quot;,
                    &quot;lua_type&quot;: &quot;PostHookEvent&quot;
                },
                {
                    &quot;name&quot;: &quot;hook&quot;,
                    &quot;desc&quot;: &quot;a hook function that receives the arguments passed in to the operation&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 989,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;__tostring&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;ignore&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 996,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;isDocument&quot;,
            &quot;desc&quot;: &quot;Checks if a metatable passed is a Document.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;instance&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;metatable&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1006,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        }
    ],
    &quot;properties&quot;: [],
    &quot;types&quot;: [
        {
            &quot;name&quot;: &quot;OpenResult&lt;T&gt;&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;Result&lt;T, RobloxAPIError | BackwardsCompatibilityError | CheckError | SessionLockedError&gt;&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 93,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;WriteResult&lt;T&gt;&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;Result&lt;T, RobloxAPIError | SessionLockedError&gt;&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 100,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;DocumentProps&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;key&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;,
                    &quot;desc&quot;: &quot;The datastore key&quot;
                },
                {
                    &quot;name&quot;: &quot;dataStore&quot;,
                    &quot;lua_type&quot;: &quot;DataStore&quot;,
                    &quot;desc&quot;: &quot;The object returned by DataStoreService:GetDataStore()&quot;
                },
                {
                    &quot;name&quot;: &quot;check&quot;,
                    &quot;lua_type&quot;: &quot;(unknown) -&gt; (boolean, T)&quot;,
                    &quot;desc&quot;: &quot;A type check function for your data, errors if types are invalid&quot;
                },
                {
                    &quot;name&quot;: &quot;default&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;,
                    &quot;desc&quot;: &quot;Default values, which are set if keys are empty&quot;
                },
                {
                    &quot;name&quot;: &quot;migrations&quot;,
                    &quot;lua_type&quot;: &quot;Types.Migrations&lt;T&gt;&quot;,
                    &quot;desc&quot;: &quot;Migrations&quot;
                },
                {
                    &quot;name&quot;: &quot;sessionLock&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;,
                    &quot;desc&quot;: &quot;Should the document be session locked?&quot;
                }
            ],
            &quot;private&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 229,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        }
    ],
    &quot;name&quot;: &quot;Document&quot;,
    &quot;desc&quot;: &quot;An abstraction over keys in a DataStore.\n\nDocuments are designed to contain information about an entity in a schema.\nThis schema is enforced by your check function, and should be changed\nthrough migrations. You may, of course, decide to not use a schema by\ndefining an empty check function, but this generally isn&#x27;t recommended.\n\n:::tip\nSession locking prevents your data from being edited by mutliple servers,\nand ensures one server is finished with it before it is opened by another.\n\nIn DocumentService, session locking enables the use of the caching methods\n`SetCache`, `GetCache`, and `UpdateCache`.\n\nThis is ideal for player data, or any data that needs frequent updates\nand does not need multi-server editing.\n:::\n\n:::warning\nYou are free to edit the contents of the table in the .data field with\na tool like DataStore Editor, but manually changing other fields could cause\ndata loss and errors.\n:::\n\n:::warning\nTypes for your data are provided under the assumption that the data\nstored in Data Stores will not change schema/interface while a Document\nis open.\n:::&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 44,
        &quot;path&quot;: &quot;src/Document.luau&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a><ul><li><a href="#OpenResult&lt;T&gt;" class="table-of-contents__link toc-highlight">OpenResult<t></t></a></li><li><a href="#WriteResult&lt;T&gt;" class="table-of-contents__link toc-highlight">WriteResult<t></t></a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#Close" class="table-of-contents__link toc-highlight">.Close</a></li><li><a href="#Erase" class="table-of-contents__link toc-highlight">.Erase</a></li><li><a href="#GetCache" class="table-of-contents__link toc-highlight">.GetCache</a></li><li><a href="#HookAfter" class="table-of-contents__link toc-highlight">.HookAfter</a></li><li><a href="#HookBefore" class="table-of-contents__link toc-highlight">.HookBefore</a></li><li><a href="#isDocument" class="table-of-contents__link toc-highlight">.isDocument</a></li><li><a href="#IsOpen" class="table-of-contents__link toc-highlight">.IsOpen</a></li><li><a href="#IsOpenAvailable" class="table-of-contents__link toc-highlight">.IsOpenAvailable</a></li><li><a href="#Open" class="table-of-contents__link toc-highlight">.Open</a></li><li><a href="#Peek" class="table-of-contents__link toc-highlight">.Peek</a></li><li><a href="#Read" class="table-of-contents__link toc-highlight">.Read</a></li><li><a href="#Save" class="table-of-contents__link toc-highlight">.Save</a></li><li><a href="#SetCache" class="table-of-contents__link toc-highlight">.SetCache</a></li><li><a href="#Steal" class="table-of-contents__link toc-highlight">.Steal</a></li><li><a href="#Update" class="table-of-contents__link toc-highlight">.Update</a></li><li><a href="#UpdateCache" class="table-of-contents__link toc-highlight">.UpdateCache</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 anthony0br. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/DocumentService/assets/js/runtime~main.77aab6ca.js"></script>
<script src="/DocumentService/assets/js/main.905ccee7.js"></script>
</body>
</html>
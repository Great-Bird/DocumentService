<!doctype html>
<html lang="en" dir="ltr" class="plugin-moonwave plugin-id-moonwave">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Document | DocumentService</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://anthony0br.github.io/DocumentService/api/Document"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Document | DocumentService"><meta data-rh="true" name="description" content="An abstraction over key, value pairs in a DataStore."><meta data-rh="true" property="og:description" content="An abstraction over key, value pairs in a DataStore."><link data-rh="true" rel="canonical" href="https://anthony0br.github.io/DocumentService/api/Document"><link data-rh="true" rel="alternate" href="https://anthony0br.github.io/DocumentService/api/Document" hreflang="en"><link data-rh="true" rel="alternate" href="https://anthony0br.github.io/DocumentService/api/Document" hreflang="x-default"><link rel="stylesheet" href="/DocumentService/assets/css/styles.fd8953ce.css">
<link rel="preload" href="/DocumentService/assets/js/runtime~main.edf54b03.js" as="script">
<link rel="preload" href="/DocumentService/assets/js/main.f6e76df8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DocumentService/"><b class="navbar__title text--truncate">DocumentService</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/DocumentService/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/anthony0br/DocumentService" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docPageContainer_wNNk"><div class="docPage_Dpn1"><div class="docSidebarContainer_o_re"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/DocumentService">​Document​Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/DocumentStore">​Document​Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/DocumentService/api/Document">​Document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/Util">​Util</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocumentService/api/Retry">​Retry</a></li></ul></nav></div></div><main class="docMainContainer_HJE1"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_MU3C"><div class="docItemContainer_Wv98"><article><div class="member_J0w1 markdown"><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_oUs_"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><header><h1 class="docTitle_mZRt" style="text-decoration:none"><span style="display:inline-block">Document</span></h1><div class="luaClassTags_EipM"></div><label class="privateToggle_lmfE"><span class="privateCheckboxContainer_psRa"><input type="checkbox" class="privateCheckboxInternal_IKP2" name="checkbox"><span class="privateCheckboxControl_Ov8U"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="none" stroke="currentColor" stroke-width="3" d="M4 11.91l5.37 5.37L19.79 5.59"></path></svg></span></span><span class="privateCheckboxLabel_Vmvs">Show Private</span></label><div>
<p>An abstraction over key, value pairs in a DataStore.</p>
</div></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Peek"><code style="text-decoration:none">Peek</code><a href="#Peek" class="hash-link" aria-label="Direct link to Peek" title="Direct link to Peek">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L187"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Peek</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">any</code><code class="op_lSLc">&gt;</code></div><div>
<p>Reads the data of a potentially locked or unopened Document.</p>
<p>Does not update the cache.</p>
<p>
  If the data is not a table or not in the DocumentService format (see KeyData),
  the data will be nil.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Open"><code style="text-decoration:none">Open</code><a href="#Open" class="hash-link" aria-label="Direct link to Open" title="Direct link to Open">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L237"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Open</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>shouldLock<!-- -->: </code><code class="blue_P4bS">boolean?</code></div></div><code>) → </code><code class="blue_P4bS">result</code></div><div>
<p>
  Validates the document if one exists, or creates a default document if no
  document exists.
</p>
<p>
  If shouldLock is true, Open will session lock the document. While this does
  violate the single responsibility principle, it is far more efficient and
  safer to do multiple things within one UpdateAsync!
</p>
<p>You must call this method before reading or writing to a Document.</p>
<p>
  Can fail for the following reasons: RobloxAPIFail, NotBackwardsCompatible,
  FailedCheck.
</p>
<p>
  NotBackwardsCompatible indicates the data has been migrated to a version on
  a newer server that isn't compatible with this server's latest version.
</p>
<p>
  FailedCheck indicates the migrations failed to convert the data to a form
  that passes the check function and matches the expected type interface.
</p>
<p>These should usually be handled by kicking the player.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Close"><code style="text-decoration:none">Close</code><a href="#Close" class="hash-link" aria-label="Direct link to Close" title="Direct link to Close">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L387"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Close</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">result</code></div><div>
<p>Destroys the document instance.</p>
<p>If session locked, will save the document and remove the lock first.</p>
<p>
  Note that after closing a Document, you will need to call
  DocumentStore:GetDocument() to retrieve a new one if you wish to access the
  Document again.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="SetCache"><code style="text-decoration:none">SetCache</code><a href="#SetCache" class="hash-link" aria-label="Direct link to SetCache" title="Direct link to SetCache">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L416"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">SetCache</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>newCache<!-- -->: </code><code class="blue_P4bS">T</code></div></div><code>) → </code><code class="blue_P4bS">newCache</code></div><div>
<p>Sets the cache.</p>
<p>Note you must use immutable operations, i.e. clone any table you intend to edit</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetCache"><code style="text-decoration:none">GetCache</code><a href="#GetCache" class="hash-link" aria-label="Direct link to GetCache" title="Direct link to GetCache">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L432"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">GetCache</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">cache</code></div><div>
<p>Retrieves the cache.</p>
<p>Note you must use immutable operations, i.e. clone any table you intend to edit</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="UpdateCache"><code style="text-decoration:none">UpdateCache</code><a href="#UpdateCache" class="hash-link" aria-label="Direct link to UpdateCache" title="Direct link to UpdateCache">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L447"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">UpdateCache</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>transform<!-- -->: </code><code class="blue_P4bS">Transform</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div></div><code>) → </code><code class="blue_P4bS">cache</code></div><div>
<p>Transforms the cache.</p>
<p>Note you must use immutable operations, i.e. clone any table you intend to edit</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Read"><code style="text-decoration:none">Read</code><a href="#Read" class="hash-link" aria-label="Direct link to Read" title="Direct link to Read">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L468"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Read</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">result</code><span class="inlineDescription_G7Er">-- <span>
<p>result containing the data read</p>
</span></span></div><div>
<p>Reads from the DataStore.</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>Overwrites the cache. If you are using session locking, you should only read once.</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Update"><code style="text-decoration:none">Update</code><a href="#Update" class="hash-link" aria-label="Direct link to Update" title="Direct link to Update">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L505"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Update</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>transform<!-- -->: </code><code class="blue_P4bS">Transform</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><span class="inlineDescription_G7Er">-- <span>
<p>Transform function for the transaction.</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS">result</code><span class="inlineDescription_G7Er">-- <span>
<p>Result containing the new data.</p>
</span></span></div><div>
<p>Performs an atomic transaction on the Document, writing to the DataStore.</p>
<p>If using session locking, transforms will build on cached data.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Save"><code style="text-decoration:none">Save</code><a href="#Save" class="hash-link" aria-label="Direct link to Save" title="Direct link to Save">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L624"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Save</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>
  Saves a Document's cache to its DataStore. Equivalent to calling Update
  without transforming the data.
</p>
<p>For session-locked data only.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Erase"><code style="text-decoration:none">Erase</code><a href="#Erase" class="hash-link" aria-label="Direct link to Erase" title="Direct link to Erase">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L640"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">Erase</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Wipes all data associated with the key and closes the document</p>
<p>Satisfies compliance with GDPR right of erasure.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="IsLockedByUs"><code style="text-decoration:none">IsLockedByUs</code><a href="#IsLockedByUs" class="hash-link" aria-label="Direct link to IsLockedByUs" title="Direct link to IsLockedByUs">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L648"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">IsLockedByUs</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code class="blue_P4bS">boolean</code></div><div>
<p>Returns whether we hold a session lock on the document and can access caching methods</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="HookBefore"><code style="text-decoration:none">HookBefore</code><a href="#HookBefore" class="hash-link" aria-label="Direct link to HookBefore" title="Direct link to HookBefore">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L664"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">HookBefore</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>event<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#PreHookEvent">PreHookEvent</a></code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>the operation to call the hook before</p>
</span></span></div><div><code>hook<!-- -->: </code><code class="purple_ieR2">(</code><code class="green_DgR4">(</code><code class="blue_P4bS">Transform</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS">Transform</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">)</code><code class="op_lSLc"> | </code><code class="purple_ieR2">(</code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>a hook function that receives the arguments passed in to the operation</p>
</span></span></div></div><code>) → </code><code>(</code><code>)</code></div><div>
<p>Attaches a hook which occurs before the event.</p>
<p>
  Note that if a hook yields, it will yield all methods that call it. Hooks
  are called in the order they are added.
</p>
<p>
  Explicitly annotate the transform type with DocumentService.Transform to
  avoid luau typechecking limitations.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="HookAfter"><code style="text-decoration:none">HookAfter</code><a href="#HookAfter" class="hash-link" aria-label="Direct link to HookAfter" title="Direct link to HookAfter">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L681"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">HookAfter</code><code>(</code><div class="inset_uKQm"><div><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>event<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/DocumentService#PostHookEvent">PostHookEvent</a></code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>the operation to call the hook after</p>
</span></span></div><div><code>hook<!-- -->: </code><code class="purple_ieR2">(</code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">Result</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><span class="inlineDescription_G7Er">-- <span>
<p>a hook function that receives the arguments passed in to the operation</p>
</span></span></div></div><code>) → </code><code>(</code><code>)</code></div><div>
<p>Attaches a hook which occurs after the event, before the method returns.</p>
<p>
  Note that if a hook yields, it will yield all methods that call it. Hooks
  are called in the order they are added.
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="__tostring"><code style="text-decoration:none">__tostring</code><a href="#__tostring" class="hash-link" aria-label="Direct link to __tostring" title="Direct link to __tostring">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L688"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">__tostring</code><code>(</code><code>self<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DocumentService/api/Document">Document</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>For debug printing documents</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="isDocument"><code style="text-decoration:none">isDocument</code><a href="#isDocument" class="hash-link" aria-label="Direct link to isDocument" title="Direct link to isDocument">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/anthony0br/DocumentService/blob/main/src/Document.luau#L698"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Document<!-- -->.</code><code class="green_DgR4">isDocument</code><code>(</code><code>instance<!-- -->: </code><code class="blue_P4bS">metatable</code><code>) → </code><code class="blue_P4bS">isDocument</code><span class="inlineDescription_G7Er">-- <span>
<p>is it a Document</p>
</span></span></div><div>
<p>Checks whether a metatable passed is a Document</p>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;new&quot;,
            &quot;desc&quot;: &quot;Creates a new Document class\n\nDon&#x27;t create more than one Document for the same key, they will be considered different sessions.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;key&quot;,
                    &quot;desc&quot;: &quot;The datastore key&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                },
                {
                    &quot;name&quot;: &quot;dataStore&quot;,
                    &quot;desc&quot;: &quot;The object returned by DataStoreService:GetDataStore()&quot;,
                    &quot;lua_type&quot;: &quot;DataStore&quot;
                },
                {
                    &quot;name&quot;: &quot;check&quot;,
                    &quot;desc&quot;: &quot;A type check function for your data, errors if types are invalid&quot;,
                    &quot;lua_type&quot;: &quot;(unknown) -&gt; (boolean, T)&quot;
                },
                {
                    &quot;name&quot;: &quot;default&quot;,
                    &quot;desc&quot;: &quot;Default values, which are set if keys are empty&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                },
                {
                    &quot;name&quot;: &quot;migrations&quot;,
                    &quot;desc&quot;: &quot;Fixes invalid data e.g. through migrations. Unfixable data should be reset.&quot;,
                    &quot;lua_type&quot;: &quot;Types.Migrations&lt;T&gt;\n&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;private&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 138,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Peek&quot;,
            &quot;desc&quot;: &quot;Reads the data of a potentially locked or unopened Document.\n\nDoes not update the cache.\n\nIf the data is not a table or not in the DocumentService format (see KeyData&lt;T&gt;),\nthe data will be nil.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Result&lt;any&gt;\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 187,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Open&quot;,
            &quot;desc&quot;: &quot;Validates the document if one exists, or creates a default document if no\ndocument exists.\n\nIf shouldLock is true, Open will session lock the document. While this does\nviolate the single responsibility principle, it is far more efficient and\nsafer to do multiple things within one UpdateAsync!\n\nYou must call this method before reading or writing to a Document.\n\nCan fail for the following reasons: RobloxAPIFail, NotBackwardsCompatible,\nFailedCheck.\n\nNotBackwardsCompatible indicates the data has been migrated to a version on\na newer server that isn&#x27;t compatible with this server&#x27;s latest version.\n\nFailedCheck indicates the migrations failed to convert the data to a form\nthat passes the check function and matches the expected type interface.\n\nThese should usually be handled by kicking the player.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;shouldLock&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;boolean?&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;result&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 237,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Close&quot;,
            &quot;desc&quot;: &quot;Destroys the document instance.\n\nIf session locked, will save the document and remove the lock first.\n\nNote that after closing a Document, you will need to call \nDocumentStore:GetDocument() to retrieve a new one if you wish to access the\nDocument again.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;result&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 387,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;SetCache&quot;,
            &quot;desc&quot;: &quot;Sets the cache.\n\nNote you must use immutable operations, i.e. clone any table you intend to edit&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;newCache&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;newCache&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 416,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetCache&quot;,
            &quot;desc&quot;: &quot;Retrieves the cache.\n\nNote you must use immutable operations, i.e. clone any table you intend to edit&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;cache&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 432,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;UpdateCache&quot;,
            &quot;desc&quot;: &quot;Transforms the cache.\n\nNote you must use immutable operations, i.e. clone any table you intend to edit&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;transform&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Transform&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;cache&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 447,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Read&quot;,
            &quot;desc&quot;: &quot;Reads from the DataStore.\n\n:::warning\nOverwrites the cache. If you are using session locking, you should only read once.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;result containing the data read&quot;,
                    &quot;lua_type&quot;: &quot;result&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 468,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Update&quot;,
            &quot;desc&quot;: &quot;Performs an atomic transaction on the Document, writing to the DataStore.\n\nIf using session locking, transforms will build on cached data.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;transform&quot;,
                    &quot;desc&quot;: &quot;Transform function for the transaction.&quot;,
                    &quot;lua_type&quot;: &quot;Transform&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;Result containing the new data.&quot;,
                    &quot;lua_type&quot;: &quot;result&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 505,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Save&quot;,
            &quot;desc&quot;: &quot;Saves a Document&#x27;s cache to its DataStore. Equivalent to calling Update\nwithout transforming the data.\n\nFor session-locked data only.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 624,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Erase&quot;,
            &quot;desc&quot;: &quot;Wipes all data associated with the key and closes the document\n\nSatisfies compliance with GDPR right of erasure.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 640,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;IsLockedByUs&quot;,
            &quot;desc&quot;: &quot;Returns whether we hold a session lock on the document and can access caching methods&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;boolean\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 648,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;HookBefore&quot;,
            &quot;desc&quot;: &quot;Attaches a hook which occurs before the event.\n\nNote that if a hook yields, it will yield all methods that call it. Hooks\nare called in the order they are added.\n\nExplicitly annotate the transform type with DocumentService.Transform to\navoid luau typechecking limitations.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;event&quot;,
                    &quot;desc&quot;: &quot;the operation to call the hook before&quot;,
                    &quot;lua_type&quot;: &quot;PreHookEvent&quot;
                },
                {
                    &quot;name&quot;: &quot;hook&quot;,
                    &quot;desc&quot;: &quot;a hook function that receives the arguments passed in to the operation&quot;,
                    &quot;lua_type&quot;: &quot;((Transform&lt;T&gt;) -&gt; Transform&lt;T&gt;) | (() -&gt; ())\n&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 664,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;HookAfter&quot;,
            &quot;desc&quot;: &quot;Attaches a hook which occurs after the event, before the method returns.\n\nNote that if a hook yields, it will yield all methods that call it. Hooks\nare called in the order they are added.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;event&quot;,
                    &quot;desc&quot;: &quot;the operation to call the hook after&quot;,
                    &quot;lua_type&quot;: &quot;PostHookEvent&quot;
                },
                {
                    &quot;name&quot;: &quot;hook&quot;,
                    &quot;desc&quot;: &quot;a hook function that receives the arguments passed in to the operation&quot;,
                    &quot;lua_type&quot;: &quot;(Result&lt;T&gt;) -&gt; Result&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 681,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;__tostring&quot;,
            &quot;desc&quot;: &quot;For debug printing documents&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;self&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Document&lt;T&gt;&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 688,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;isDocument&quot;,
            &quot;desc&quot;: &quot;Checks whether a metatable passed is a Document&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;instance&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;metatable&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;is it a Document&quot;,
                    &quot;lua_type&quot;: &quot;isDocument&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 698,
                &quot;path&quot;: &quot;src/Document.luau&quot;
            }
        }
    ],
    &quot;properties&quot;: [],
    &quot;types&quot;: [],
    &quot;name&quot;: &quot;Document&quot;,
    &quot;desc&quot;: &quot;An abstraction over key, value pairs in a DataStore.&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 15,
        &quot;path&quot;: &quot;src/Document.luau&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#__tostring" class="table-of-contents__link toc-highlight">.__tostring</a></li><li><a href="#Close" class="table-of-contents__link toc-highlight">.Close</a></li><li><a href="#Erase" class="table-of-contents__link toc-highlight">.Erase</a></li><li><a href="#GetCache" class="table-of-contents__link toc-highlight">.GetCache</a></li><li><a href="#HookAfter" class="table-of-contents__link toc-highlight">.HookAfter</a></li><li><a href="#HookBefore" class="table-of-contents__link toc-highlight">.HookBefore</a></li><li><a href="#isDocument" class="table-of-contents__link toc-highlight">.isDocument</a></li><li><a href="#IsLockedByUs" class="table-of-contents__link toc-highlight">.IsLockedByUs</a></li><li><a href="#Open" class="table-of-contents__link toc-highlight">.Open</a></li><li><a href="#Peek" class="table-of-contents__link toc-highlight">.Peek</a></li><li><a href="#Read" class="table-of-contents__link toc-highlight">.Read</a></li><li><a href="#Save" class="table-of-contents__link toc-highlight">.Save</a></li><li><a href="#SetCache" class="table-of-contents__link toc-highlight">.SetCache</a></li><li><a href="#Update" class="table-of-contents__link toc-highlight">.Update</a></li><li><a href="#UpdateCache" class="table-of-contents__link toc-highlight">.UpdateCache</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Anthony O'Brien. Built with Moonwave and Docusaurus</div></div></div></footer></div>
<script src="/DocumentService/assets/js/runtime~main.edf54b03.js"></script>
<script src="/DocumentService/assets/js/main.f6e76df8.js"></script>
</body>
</html>